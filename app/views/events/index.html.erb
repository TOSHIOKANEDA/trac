<% content_for :stylesheets do %>
  <%= stylesheet_link_tag "events/index", "data-turbo-track": "reload" %>
<% end %>
<% content_for :title, "案件カレンダー" %>
<%= render partial: "layouts/sidebar" %>
<main class="main-content" data-controller="calendar" data-turbo="false">
  <div class="flex-1 p-6 lg:p-8 overflow-y-auto relative">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-gray-900">案件カレンダー</h2>
      <div class="flex gap-2">
        <button data-calendar-target="loadingFilter" data-action="click->calendar#filterLoading" class="px-4 py-2 rounded-lg font-medium transition-all duration-200 bg-blue-500 text-white hover:bg-blue-600 shadow-md">
          ETD
        </button>
        <button data-calendar-target="dischargingFilter" data-action="click->calendar#filterDischarging" class="px-4 py-2 rounded-lg font-medium transition-all duration-200 bg-red-500 text-white hover:bg-red-600 shadow-md">
          ETA
        </button>
        <button data-calendar-target="performPlusone" data-action="click->calendar#performPlusone" class="px-4 py-2 rounded-lg font-medium transition-all duration-200 bg-green-500 text-white hover:bg-green-600 shadow-md">
          プラス1
        </button>
      </div>
    </div>

    <!-- カレンダー -->
    <div data-calendar-target="calendar" id="calendar" class="bg-white p-3"></div>

    <!-- ツールチップ -->
    <div data-calendar-target="dateTooltip" id="date-tooltip" class="hidden absolute bg-gray-800 text-white px-2 py-1 rounded text-sm z-50"></div>
  </div>

  <!-- モーダル -->
  <div data-calendar-target="eventModal" data-action="click->calendar#modalBackgroundClick" id="event-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
    <div class="relative top-10 mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-md bg-white mb-10">
      <div data-calendar-target="detailsModalContent" id="details-modal-content" class="max-h-[80vh] overflow-y-auto pr-2">
      </div>
    </div>
  </div>
</main>
